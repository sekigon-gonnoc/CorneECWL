# CorneECWL

- [部品リスト](#部品リスト)
  - [キットに同梱されている部品](#キットに同梱されている部品)
  - [キット以外に必要な部品](#キット以外に必要な部品)
- [組み立て手順](#組み立て手順)
  - [裏面の表面実装部品を取り付ける](#裏面の表面実装部品を取り付ける)
  - [(BLE Micro Proのインジケータ機能を使う場合)表面の表面実装部品を取り付ける](#ble-micro-proのインジケータ機能を使う場合表面の表面実装部品を取り付ける)
  - [表面のリード部品を取り付ける](#表面のリード部品を取り付ける)
  - [トッププレートにスペーサーを取り付ける](#トッププレートにスペーサーを取り付ける)
  - [トッププレートにスイッチを取り付ける](#トッププレートにスイッチを取り付ける)
  - [メイン基板をトッププレートにネジ止めする](#メイン基板をトッププレートにネジ止めする)
  - [ミドルプレートを挟んでボトム基板をネジ止めする](#ミドルプレートを挟んでボトム基板をネジ止めする)
  - [Pro MicroまたはBLE Micro Proを取り付ける](#pro-microまたはble-micro-proを取り付ける)
- [ファームウェア](#ファームウェア)
  - [Pro Microの場合](#pro-microの場合)
  - [BLE Micro Proの場合](#ble-micro-proの場合)

## 部品リスト
### キットに同梱されている部品
|部品|数|
|-|-|
|メイン基板|2|
|トッププレート|2|
|ミドルプレート|2|
|ボトムプレート|2|
|マルチプレクサ|2|
|オペアンプ|2|
|TRRSジャック|2|
|タクトスイッチ|2|
|100kΩ|14|
|22kΩ|2|
|2.2kΩ|2|
|1kΩ|2|
|0.1uF|4|
|220pF|2|
|赤色LED|2|
|M2ネジ|24|
|M2x8スペーサー|10|
|M2x5スペーサー|2|
|ゴム足|8|



### キット以外に必要な部品

|部品|数|入手先|
|-|-|-|
|Pro MicroまたはBLE Micro Pro|2|
|12ピンコンスルーまたはピンヘッダ|4|
|NIZ EC Switch|42|
|ラバードーム|必要分|
|コニックリング|42|
||||
|**Pro Microを使う場合**|||
|TRRSケーブル|1|
|USBケーブル|1|
||||
|**BLE Micro Proを使う場合**|||
|電池基板|2||

## 組み立て手順
### 裏面の表面実装部品を取り付ける

- 部品表
    |番号|値|
    |-|-|
    |R1-R7|100kΩ|
    |R9|1kΩ|
    |R10|22kΩ|
    |C1, C2|0.1uF|
    |C3|220pF|

- ICの向きに注意
  - マルチプレクサは1ピン側にくぼみが、オペアンプは1ピン側に矢印がついている

![](img/img1.JPG)
![](img/img8.JPG)
![](img/img9.JPG)

### (BLE Micro Proのインジケータ機能を使う場合)表面の表面実装部品を取り付ける

- 部品表
    |番号|値|
    |-|-|
    |R11|2.2kΩ|
    |D1|LED(OSHR1608)|

- LEDの向きに注意
  - ロットによってLED裏側の極性表示が異なるので注意が必要
  - 発光点がカソードによっているので表側からでも判別できる
  - 基板側はシルクで囲われている側がカソード
![](img/img11.JPG)

### 表面のリード部品を取り付ける
- TRRSジャックとリセットスイッチを付ける
![](img/img2.JPG)

### トッププレートにスペーサーを取り付ける
- 親指側の基板端のみ5mmのスペーサー、残りは8mmのスペーサー

### トッププレートにスイッチを取り付ける
- ハウジング、ステム、ラバードーム、コニックリングの順に設置する
![](img/img3.JPG)

### メイン基板をトッププレートにネジ止めする
- 5mmスペーサーでトッププレートとメイン基板をとめる
![](img/img7.JPG)

### ミドルプレートを挟んでボトム基板をネジ止めする
- 8mmスペーサーのほうがトッププレートとボトムプレートの距離より若干短いため、ネジを締めすぎないようにする
![](img/img6.JPG)

### Pro MicroまたはBLE Micro Proを取り付ける
- 裏向きに付ける
![](img/img10.JPG)

## ファームウェア
### Pro Microの場合

- 左手に書き込む
```
make crkbd_ecwl/default:avrdude-split-left
```

- 右手に書き込む
```
make crkbd_ecwl/default:avrdude-split-right
```

### BLE Micro Proの場合

- BLE Micro Pro Web Configuratorを使ってCorne ECWL用のファームを書き込む
- BLE Micro Pro用QMK Configuratorを使ってキーマップを書き込む
- それぞれのツールの詳しい使い方についてはBLE Micro Proのドキュメントを参照してください